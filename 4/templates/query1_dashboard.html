<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>Середня ціна продуктів</title>
</head>
<body>
    <h1>Середня ціна продуктів за типами</h1>

    <div>
        <form method="get" style="display: inline-block;">
            <input type="hidden" name="sort" value="desc">
            <button type="submit">Сортувати за спаданням</button>
        </form>
        <form method="get" style="display: inline-block;">
            <input type="hidden" name="sort" value="asc">
            <button type="submit">Сортувати за зростанням</button>
        </form>
        <form method="get" style="display: inline-block;">
            <input type="hidden" name="sort" value="default">
            <button type="submit">Сортувати за замовчуванням</button>
        </form>
    </div>

    <div>
        {% if chart %}
            {{ chart|safe }}
        {% elif script and div %}
            {{ script|safe }}
            {{ div|safe }}
        {% else %}
            <p>Дані для графіка відсутні.</p>
        {% endif %}
    </div>

    <div>
        <h3>Статистичні дані:</h3>
        {% if stats %}
        <ul>
            <li><strong>Середня ціна:</strong> {{ stats.mean|floatformat:2 }}</li>
            <li><strong>Медіанна ціна:</strong> {{ stats.median|floatformat:2 }}</li>
            <li><strong>Мінімальна ціна:</strong> {{ stats.min|floatformat:2 }}</li>
            <li><strong>Максимальна ціна:</strong> {{ stats.max|floatformat:2 }}</li>
        </ul>
        {% else %}
        <p>Статистичні дані відсутні.</p>
        {% endif %}
    </div>
</body>
</html>
